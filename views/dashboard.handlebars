<section>
    <h1>My Dashboard</h1>
    <br/><hr/>
</section>
<section class="post-container">
    <h2>
        Add a Post
    </h2>
    <form id="new-post-form">
        <div class="form-field">
            <label for="new-post-title">Title:</label>
            <input class="form-input" type="text" id="new-post-title" required aria-required="true" minlength="2"/>
            <textarea name="new-post" id="new-post" class="comment-field" maxlength="250" required aria-required="true" minlength="2"></textarea>
        </div>
        <button class="btn-primary" type="submit">Create Post</button>
    </form>
</section>
<section>
    <h2>
        My Posts
    </h2>
    <p>
        You can modify existing posts by selecting and editing the text directly and clicking the Update button.
    </p>
    {{#each posts as |post|}}
        <article>
            <div class="post-header">
                <h2 id="post-title">
                    {{post.title}}
                </h2>
                <h3>
                    Posted by <strong>{{post.user.username}}</strong> on <strong>{{format_date post.createdAt}}</strong>
                </h3>
            </div>
            <p class="post-body" contenteditable="true" data-id="{{post.id}}">
                {{post.content}}
            </p>
            <div class="post-footer">
                <p class="comment-count">
                    {{post.comments.length}} Comments
                </p>
                <div>
                    <a href="/api/posts/{{post.id}}" class="btn-primary btn-wide">View Full Post</a>
                    <button class="btn-primary post-update" data-id="{{post.id}}">Update</button>
                    <button class="btn-primary post-delete" data-id="{{post.id}}">Delete</button>
                </div>
            </div>
        </article>
    {{/each}}
</section>


<script src="/js/dashboard.js"></script>